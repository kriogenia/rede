<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Request DSL - Rede Documentation</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">User Guide</li><li class="chapter-item expanded "><a href="../user_guide/installation.html"><strong aria-hidden="true">1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="../user_guide/how_to_run.html"><strong aria-hidden="true">2.</strong> How to run</a></li><li class="chapter-item expanded affix "><li class="part-title">Reference Guide</li><li class="chapter-item expanded "><a href="../reference_guide/request_dsl.html" class="active"><strong aria-hidden="true">3.</strong> Request DSL</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../reference_guide/request_dsl/body.html"><strong aria-hidden="true">3.1.</strong> Body</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.2.</strong> Input_parameters</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.3.</strong> Placeholders and variables</div></li></ol></li><li class="chapter-item expanded "><a href="../reference_guide/command_line_interface.html"><strong aria-hidden="true">4.</strong> Command Line Interface</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../reference_guide/command_line_interface/run.html"><strong aria-hidden="true">4.1.</strong> run</a></li><li class="chapter-item expanded "><a href="../reference_guide/command_line_interface/example.html"><strong aria-hidden="true">4.2.</strong> example</a></li></ol></li><li class="chapter-item expanded "><a href="../reference_guide/errors.html"><strong aria-hidden="true">5.</strong> Errors</a></li><li class="chapter-item expanded "><a href="../reference_guide/tools.html"><strong aria-hidden="true">6.</strong> Tools</a></li><li class="chapter-item expanded affix "><li class="part-title">Roadmap</li><li class="chapter-item expanded "><a href="../roadmap/upcoming.html"><strong aria-hidden="true">7.</strong> Upcoming</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Piping</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> --env</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.</strong> Asserts</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.</strong> Config</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="../faq.html">FAQ</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Rede Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="request-dsl"><a class="header" href="#request-dsl">Request DSL</a></h1>
<p><code>rede</code> is built to work around <a href="https://toml.io/en/">TOML</a> files modeling an HTTP request.
This is an example of a pretty complex HTTP request following <code>rede</code> DSL.</p>
<pre><code class="language-toml">[http]
method = &quot;POST&quot;
url = &quot;https://www.myapi.gl/api/images&quot;
version = &quot;HTTP/1.1&quot;

[metadata]
name = &quot;Submit image&quot;
description = &quot;Uploads a new image&quot;
author = &quot;John Carmack&quot;

[headers]
Content-Type = &quot;multipart/form-data&quot;
Authorization = &quot;Bearer am6Mlw33eCVK&quot;
Accept = &quot;application/json&quot;

[body.form_data]
username.text = &quot;DoomGuy&quot;
description.text = &quot;Just chilling killing some demons&quot;
image.file = &quot;~/Pictures/hell/ripping_living_heart_from_demon.png&quot;
</code></pre>
<p>I could explain the request that is being represented there, but this format is so readable that there's no need.</p>
<h1 id="tables"><a class="header" href="#tables">Tables</a></h1>
<p>Each table (<code>[table]</code>) represents a section of an HTTP request and inside each one a series of keys or tables can be
defined to provided all you need to represent the HTTP call.</p>
<p>Some considerations applying to the whole schema:</p>
<ul>
<li><strong>Only <code>http</code> is required</strong>, all the other tables are optional.</li>
<li>The order is not relevant. The order used in this section is only for improve readability.</li>
<li>Every valid TOML declaration is supported. There's no need to use the same as the examples here.</li>
<li>Any multiword key supports <code>camel_case</code>, <code>lowercase</code> and <code>kebab-case</code>.</li>
</ul>
<h2 id="http"><a class="header" href="#http">[http]</a></h2>
<p>This table accepts three possible keys:</p>
<ul>
<li><code>url</code>, <em>string</em>. The only key <strong>required</strong> in the whole DSL.</li>
<li><code>method</code>, <em>string</em>. If omitted it will be <code>GET</code>. Accepts extension methods.</li>
<li><code>version</code>, <em>string</em> of type <code>HTTP/x.y</code>. If omitted it will default to <code>HTTP/1.1</code>.</li>
</ul>
<pre><code class="language-toml">[http]
url = &quot;127.0.0.1/api&quot;
method = &quot;DELETE&quot;
version = &quot;HTTP/2.0&quot;
</code></pre>
<h2 id="headers"><a class="header" href="#headers">[headers]</a></h2>
<p>This table is <strong>free</strong>. There's no predefined keys but all values must be <em>strings</em>.
No transformation is applied to these headers so they must follow the HTTP restrictions.</p>
<pre><code class="language-toml">[headers]
date = &quot;1970-01-01&quot;
My-Own_Weird_Header = &quot;its valid tho&quot;
</code></pre>
<p><em>warning: some common leaders like <code>Host</code> and <code>Content-Type</code> will be autogenerated by
<code>rede</code> based on the other fields of the request. Future plans contemplate allowing the
option to disable this autogeneration</em></p>
<h2 id="query_params"><a class="header" href="#query_params">[query_params]</a></h2>
<p>This table is <strong>free</strong>. There's no predefined keys but the values can't be of type datetime
or tables. Arrays are supported and will be sent in the request as a comma separated list of
the values.</p>
<pre><code class="language-toml">[query-params]
size = 10
genre = &quot;scifi&quot;
tags = [ &quot;dystopia&quot;, &quot;space&quot; ]
</code></pre>
<h2 id="body"><a class="header" href="#body">[body]</a></h2>
<p>The body is a table that can only contain <strong>a single key</strong> specifying the type of body and the
respective content of the body as value. Defining more than one body type would return an error.
The see all body types refer to <a href="./request_dsl/body.html">the body page</a>.</p>
<pre><code class="language-toml">body.binary = &quot;./doc/project_v2_final_final.pdf&quot;
</code></pre>
<pre><code class="language-toml">[body.x-www-form-urlencoded]
name = &quot;Feldespato&quot;
location = &quot;unknown&quot;
</code></pre>
<h2 id="metadata"><a class="header" href="#metadata">[metadata]</a></h2>
<p>This table is <strong>free</strong> but the values must be one of the primitive values (<em>string</em>, <em>integer</em>,
<em>float</em> or <em>boolean</em>). It allows you to add any meaningful meta information. One key is currently
queried by <code>rede</code> but more could come in the future (for example, <em>description</em>):</p>
<ul>
<li><code>name</code>. If present, <code>rede</code> will use it to refer to the request instead of using the filename.
_This works only for printing purposes, <code>rede run</code> still requires the filename.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../user_guide/how_to_run.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../reference_guide/request_dsl/body.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../user_guide/how_to_run.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../reference_guide/request_dsl/body.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
